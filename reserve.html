<!DOCTYPE html>
<html>

<head>
    <title>Hot Restaurant</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1 class="text-center">Hot Restaurant</h1>
            <h2 class="text-center">Make your reservation</h2>
        <div class="text-center">
            <a href ="tables.html"><button type="button" class="btn btn-primary btn-lg">View Tables</button></a>
            <a href ="home.html"><button type="button" class="btn btn-lg btn-light">Home</button></a>
        </div>
        </div>
	<div>
    	<form>
    		<div class="panel panel-default">
    			<div class="panel-heading">
    				<h4 class="panel-title">Table Reservation</h4> 
				</div>
				<div class="panel-body">
				  <div class="form-group">
				    <label for="Name">Name</label>
				    <input type="text" class="form-control" id="name">
				  </div>
				  <div class="form-group">
				    <label for="Phone">Phone Number</label>
				    <input type="text" class="form-control" id="phoneNumber">
				  </div>
				  <div class="form-group">
				    <label for="email">Email</label>
				    <input type="email" class="form-control" id="email">
				  </div>
				  <div class="form-group">
				    <label for="uniqueID">Unique ID</label>
				    <input type="text" class="form-control" id="uniqueID">
					</div>
				    <button type="submit" class="btn btn-primary" id="submit">Submit</button>    
		  		</div>
	  		</div>
  		</form>
  
<div>
<a href="">API Table Link | <a href="">API Wait List
</div>
</body>

<script type ="text/javascript">

    $("#submit").on("click", function(){
        var newreservation = {
            customername: $('#name').val().trim(),
            phonenumber: $('#phoneNumber').val().trim(),
            customeremail: $('#email').val().trim(),
            customerID: $('#uniqueID').val().trim(),
        };

        console.log(newreservation);

        var currentURL = window.location.origin;

        $.post(currentURL = "api/table", newreservation, function(data){
            if (data===true){
                alert("You are officially booked!!");
            }
            if (data===false){
                alert("Sorry you are on the wait list.");
            }
            $('#name').val("");
            $('#phoneNumber').val("");
            $('#email').val("");
            $('#uniqueID').val("");

        });
        return false;
    });
</script>
</html>